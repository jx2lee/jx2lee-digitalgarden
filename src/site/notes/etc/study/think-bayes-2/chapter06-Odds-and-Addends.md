---
{"dg-publish":true,"permalink":"/etc/study/think-bayes-2/chapter06-Odds-and-Addends/","dgPassFrontmatter":true,"noteIcon":"","created":"","updated":""}
---

#think-bayes #probability #study

---

이 장에서는 어느 정도의 확실성, 확률을 표현하는 새로운 방법과 베이지의 정리라는 새로운 형태의 베이지의 정리를 소개한다. 또한 evidence 의 중요한 개념과 강도를 정량화할 수 있는 방법에 대해서도 설명한다.

이 장의 두 번째 부분은 addends(더하는 양과 그 분포를 계산하는 방법)에 대해 살펴본다. 합계, 차이, 곱셈 및 기타 연산의 분포를 계산하는 함수를 정의하는데, 베이지안 업데이트의 일부로 사용할 예정이다.

# Odds
확률을 나타내는 한 가지 방법은 0과 1 사이의 숫자를 사용하는 것이지만, 이것이 유일한 방법은 아니다. 축구 경기나 경마에 베팅을 해본 적이 있다면 배당률이라는 또 다른 표현을 접해 보셨을 거다.

"배당률은 3 대 1입니다"와 같은 표현을 들어 보셨을 수도 있지만 그것이 무엇을 의미하는지 모를 수도 있다. odds in favor 는 이벤트가 발생할 확률과 발생하지 않을 확률의 비율을 말한다.

```python
def odds(p):
    return p / (1-p)
```

예를 들어, 팀이 이길 확률이 75%인 경우, 이길 확률이 질 확률이 3배이므로 팀이 유리한 확률은 3 대 1이다.

```python
>>> odds(0.75)
3.0
```

확률은 소수점 형식으로 쓸 수 있지만 정수 비율로 쓰는 것도 일반적이다. 따라서 "3 대 1"은 3:1 로 쓰기도 합니다.

확률이 낮을 때는 찬성 확률보다는 반대 확률(odds against)을 보고하는 것이 일반적이다. 예를 들어, 내 말이 이길 확률이 10%인 경우 유리한 배당률은 1:9 이다.
하지만 이 경우에 반대 확률이 9:1 이라고 말하는 것이 더 일반적입니다.

```python
>>> odds(0.1)
0.11111111111111112
>>> odds(0.9)
9.000000000000002
```

유리한 확률이 소수점 형식으로 주어지면 다음과 같이 확률로 변환할 수 있다.

```python
def prob(o):
    return o / (o+1)

>>> prob(3/2)
0.6
```

또는 분자와 분모로 확률을 나타내는 경우 다음과 같이 변환할 수 있다.

```python
def prob2(yes, no):
    return yes / (yes + no)

>>> prob2(3,2)
0.6
```

probability 와 odds 는 동일한 정보를 다르게 표현한 것으로, 둘 중 하나를 알면 다른 하나를 계산할 수 있다. 하지만 odds 로 작업할 때 더 쉬운 계산도 있고, 나중에 살펴볼 로그 확률을 사용하면 훨씬 더 쉬운 계산도 있다.

# Bayes's Rule
$$P(H|D) = \frac{P(H)~P(D|H)}{P(D)}$$

베이즈 정리를 odds 형식으로 표현할 수 있다.
$$\mathrm{odds}(A|D) = \mathrm{odds}(A)~\frac{P(D|A)}{P(D|B)}$$

bayes's rule 에 따르면 사후 확률은 이전 확률에 비율을 곱한 값이다. 예를 들어 쿠키 문제로 돌아가 보면 쿠키가 담긴 그릇이 두 개 있다고 가정해해보자. 볼 1에는 바닐라 쿠키 30개와 초콜릿 쿠키 10개가 들어 있고, 볼 2에는 각각 20개가 들어 있다.

이제 두 그릇 중 하나를 무작위로 선택하고 보지 않고 무작위로 쿠키를 선택한다. 선택한 쿠키가 바닐라라면 볼 1에서 나왔을 확률은 얼마인가?

prior 확률은 50% 이므로 prior odds 는 1입니다. likelihood ratio 는 34/12 또는 3/2 입니다. 따라서 사후 확률은 3/2 이며, 이는 확률 3/5 에 해당합니다.

```python
>>> prior_odds = 1
>>> likelihood_ratio = (3/4) / (1/2)
>>> post_odds = prior_odds * likelihood_ratio
>>> post_odds
1.5
>>> post_prob = prob(post_odds)
>>> post_prob
0.6
```

```python
>>> likelihood_ratio = (1/4) / (1/2)
>>> post_odds *= likelihood_ratio
>>> post_odds
0.75
>>> post_prob = prob(post_odds)
>>> post_prob
0.42857142857142855
```

# Oliver's Blood
bayes's rule 을 사용하여 MacKay의 정보 이론, 추론 및 학습 알고리즘에 나오는 또 다른 문제를 해결해보자.

> 두 사람이 범죄 현장에서 자신의 혈액 흔적을 남겼습니다. 용의자 올리버는 검사 결과 'O형' 혈액형을 가진 것으로 밝혀졌습니다. 두 사람의 혈액형은 'O형'(지역 인구에서 빈도가 60%인 흔한 유형)과 'AB형'(빈도가 1%인 희귀 유형)으로 밝혀졌습니다. 이러한 데이터[현장에서 발견된 흔적]가 올리버가 [현장에서 혈액을 남긴] 사람 중 한 명이라는 명제에 유리한 증거를 제공하나요?